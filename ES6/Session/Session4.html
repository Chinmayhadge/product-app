<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session 4</title>
</head>

<body>
    <!-- async makes a function return a Promise
    
    await makes a function wait for a Promise -->
    <!-- <button onclick="mainfun1()">Click</button> -->
    <!-- <button onclick="myfun1()">Click me</button> -->

    <h1 id="head"></h1>

    <button onclick="mainfun()">Click me</button>
    <script type="text/javascript">

        // async function mainfun1() {

        // }

        // const mainfun1 = async ()=>{
        //     let mypromise = new Promise((resolve, reject)=>{
        // let z = 11;
        // if(z == 1){
        //     resolve("promise is resolve")
        // }
        // else{
        //     reject("promise is rejected")
        // }

        //     }).catch((err)=>{
        // console.log(err)
        //     });
        //     // document.getElementById("head").innerHTML = await  mypromise;

        // }



        // const myfun1 = ()=>{

        //     let mypromise = new Promise((x,y)=>{
        // let a = 10;
        // if(a == 1){
        //     x("promise is resolve")
        // }
        // else{
        //     y("promise is rejected")
        // }
        //     }).then((val)=>{
        //         document.getElementById("head").innerHTML = val;
        //     }).catch((err)=>{
        //         console.log(err);
        //     })

        // }



        const mainfun = () => {
            let mypromise = new Promise((resolve, reject) => {
                let req = new XMLHttpRequest();
                req.onload = () => {
                    if (req.status == 200 && req.readyState == 4) {
                        let data = JSON.parse(req.responseText)
                        resolve(data)

        }
            else {
            reject("data not found");
        }
        }
        req.open('GET', "https://jsonplaceholder.typicode.com/posts", true);
        req.send();
    }).then((value) => {
        value.map((ele)=>{
console.log(ele)
        })
        })
}




//        const mainfun1 = async ()=>{
//             let mypromise = new Promise((resolve, reject)=>{
//    setTimeout(()=>{
//     let z = 11;
//         if(z == 1){
//             resolve("promise is resolve")
//         }
//         else{
//             reject("promise is rejected")
//         }

//    },4000)
//             })
//             document.getElementById("head").innerHTML = await  mypromise;

//         }




    </script>
</body>

</html>